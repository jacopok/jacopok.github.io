<html>
  <head>
	 <link rel="stylesheet" href="https://cadabra.science/static/fonts/Serif/cmun-serif.css"></link>
	 <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML' async></script>
	 <style>
		div.image_png { width: 400px; }
		div.output { font-family: monospace; }
		h1, h2, h3 { font-family: 'STIXGENERAL'; }
		div.latex_view { font-family: 'STIXGENERAL'; color: black; font-size: 16px; line-height: 23px; margin-left: 40px; margin-right: 40px; padding-left: 10px; margin-bottom: 10px; }
		div.image_png img { width: 100%; }
		div.python { font-family: monospace; padding-left: 10px; margin-left: 40px; margin-right; 40px; margin-bottom: 10px; margin-top: 10px; white-space: pre; color: blue; }
		pre.output { color: black; }
		div.author { font-weight: bold; }
		div.email  { font-family: monospace; }
	 </style>
	 <script>
		MathJax.Hub.Config({
		tex2jax: {
		inlineMath: [['$','$'], ['\\(','\\)']],
		processEscapes: true,
		displayAlign: "left",
		ignoreClass: "python",
		processClass: "latex_view",
      linebreaks: { automatic: true }
		},
		"HTML-CSS": {
		scale: 105,
		preferredFont: "TeX",
		webFont: "TeX",
		mtextFontInherit: false,
		matchFontHeight: false,
      linebreaks: { automatic: true }
		},
		"SVG": {
      linebreaks: { automatic: true }
		}
		});
	 </script>
  </head>


<body>
<div class='latex'><div class='latex_view hyphenate'><div class="source donthyphenate"><h1>Projection tensor properties</h1>

We start out by defining the values our indices will take on - here we work with spatial coordinates only, so our indices only have three values.</div></div>
</div>
<div class='python'><div class="source donthyphenate">{i, j, k, l, m, n}::Indices(values={x,y,z}, position=fixed);
{x, y, z}::Coordinate;
{\delta_{i j}}::KroneckerDelta;</div><div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\text{Attached property Indices(position=fixed) to }\left[i,  j,  k,  l,  m,  n\right].\)</div></div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\text{Attached property Coordinate to }\left[x,  y,  z\right].\)</div></div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\text{Attached property KroneckerDelta to }\delta_{i j}.\)</div></div>
</div>
<div class='latex'><div class='latex_view hyphenate'><div class="source donthyphenate">We can define the relevant quantities in a rather abstract way.</div></div>
</div>
<div class='python'><div class="source donthyphenate">delta_trace := \delta_{i i} = 3;

n_unit := n_i n_i = 1;

p_def := P_{i j} = \delta_{i j} - n_i n_j;

lambda_def := \Lambda_{i j k l} = P_{i k} P_{j l} - 1 / 2 P_{i j} P_{k l};

substitute(lambda_def, p_def);</div><div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\delta_{i i} = 3\)</div><div class='input_form'><div class="source donthyphenate">\delta_{i i} = 3</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}n_{i} n_{i} = 1\)</div><div class='input_form'><div class="source donthyphenate">n_{i} n_{i} = 1</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}P_{i j} = \delta_{i j}-n_{i} n_{j}\)</div><div class='input_form'><div class="source donthyphenate">P_{i j} = \delta_{i j}-n_{i} n_{j}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\Lambda_{i j k l} = P_{i k} P_{j l} - \frac{1}{2}P_{i j} P_{k l}\)</div><div class='input_form'><div class="source donthyphenate">\Lambda_{i j k l} = P_{i k} P_{j l} -  1/2 P_{i j} P_{k l}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\Lambda_{i j k l} = \left(\delta_{i k}-n_{i} n_{k}\right) \left(\delta_{j l}-n_{j} n_{l}\right) - \frac{1}{2}\left(\delta_{i j}-n_{i} n_{j}\right) \left(\delta_{k l}-n_{k} n_{l}\right)\)</div><div class='input_form'><div class="source donthyphenate">\Lambda_{i j k l} = (\delta_{i k}-n_{i} n_{k}) (\delta_{j l}-n_{j} n_{l}) -  1/2 (\delta_{i j}-n_{i} n_{j}) (\delta_{k l}-n_{k} n_{l})</div></div>
</div>
</div>
<div class='latex'><div class='latex_view hyphenate'><div class="source donthyphenate"><h2>Properties</h2></div></div>
</div>
<div class='python'><div class="source donthyphenate">p_symm := P_{i j} - P_{j i};
substitute(p_symm, p_def);
canonicalise(p_symm);</div><div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}P_{i j}-P_{j i}\)</div><div class='input_form'><div class="source donthyphenate">P_{i j}-P_{j i}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\delta_{i j}-n_{i} n_{j}-\delta_{j i}+n_{j} n_{i}\)</div><div class='input_form'><div class="source donthyphenate">\delta_{i j}-n_{i} n_{j}-\delta_{j i} + n_{j} n_{i}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}0\)</div><div class='input_form'><div class="source donthyphenate">0</div></div>
</div>
</div>
<div class='python'><div class="source donthyphenate">p_transverse := n_{i} P_{i j};
substitute(_, p_def);
distribute(_);
eliminate_kronecker(_);
substitute(_, n_unit);</div><div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}n_{i} P_{i j}\)</div><div class='input_form'><div class="source donthyphenate">n_{i} P_{i j}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}n_{i} \left(\delta_{i j}-n_{i} n_{j}\right)\)</div><div class='input_form'><div class="source donthyphenate">n_{i} (\delta_{i j}-n_{i} n_{j})</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}n_{i} \delta_{i j}-n_{i} n_{i} n_{j}\)</div><div class='input_form'><div class="source donthyphenate">n_{i} \delta_{i j}-n_{i} n_{i} n_{j}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}n_{j}-n_{i} n_{i} n_{j}\)</div><div class='input_form'><div class="source donthyphenate">n_{j}-n_{i} n_{i} n_{j}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}0\)</div><div class='input_form'><div class="source donthyphenate">0</div></div>
</div>
</div>
<div class='python'><div class="source donthyphenate">from cdb.core.manip import swap_sides

p_projector := P_{i k } P_{k j};
substitute(_, p_def);
distribute(_);
eliminate_kronecker(_);
substitute(_, n_unit);
substitute(_, swap_sides(p_def));

swap_sides(p_def),</div><div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}P_{i k} P_{k j}\)</div><div class='input_form'><div class="source donthyphenate">P_{i k} P_{k j}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\left(\delta_{i k}-n_{i} n_{k}\right) \left(\delta_{k j}-n_{k} n_{j}\right)\)</div><div class='input_form'><div class="source donthyphenate">(\delta_{i k}-n_{i} n_{k}) (\delta_{k j}-n_{k} n_{j})</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\delta_{i k} \delta_{k j}-\delta_{i k} n_{k} n_{j}-n_{i} n_{k} \delta_{k j}+n_{i} n_{k} n_{k} n_{j}\)</div><div class='input_form'><div class="source donthyphenate">\delta_{i k} \delta_{k j}-\delta_{i k} n_{k} n_{j}-n_{i} n_{k} \delta_{k j} + n_{i} n_{k} n_{k} n_{j}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\delta_{i j}-2n_{i} n_{j}+n_{i} n_{k} n_{k} n_{j}\)</div><div class='input_form'><div class="source donthyphenate">\delta_{i j}-2n_{i} n_{j} + n_{i} n_{k} n_{k} n_{j}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\delta_{i j}-n_{i} n_{j}\)</div><div class='input_form'><div class="source donthyphenate">\delta_{i j}-n_{i} n_{j}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}P_{i j}\)</div><div class='input_form'><div class="source donthyphenate">P_{i j}</div></div>
</div>
</div>
<div class='python'><div class="source donthyphenate">p_trace := T = P_{k k};
substitute(_, p_def);
eliminate_kronecker(_);
substitute(_, n_unit);
substitute(p_trace, delta_trace);

# TODO! </div><div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}T = P_{k k}\)</div><div class='input_form'><div class="source donthyphenate">T = P_{k k}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}T = \delta_{k k}-n_{k} n_{k}\)</div><div class='input_form'><div class="source donthyphenate">T = \delta_{k k}-n_{k} n_{k}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}T = \delta_{k k}-n_{k} n_{k}\)</div><div class='input_form'><div class="source donthyphenate">T = \delta_{k k}-n_{k} n_{k}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}T = \delta_{k k}-1\)</div><div class='input_form'><div class="source donthyphenate">T = \delta_{k k}-1</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}T = 2\)</div><div class='input_form'><div class="source donthyphenate">T = 2</div></div>
</div>
</div>
<div class='python'><div class="source donthyphenate">from cdb.core.manip import swap_sides

lambda_projector := \Lambda_{i j m n} \Lambda_{m n k l} - \Lambda_{i j k l};

substitute(_, lambda_def);
distribute(_),
eliminate_kronecker(_),
substitute(_, n_unit),
substitute(_, delta_trace),
collect_terms(_),
canonicalise(_),
sort_sum(_),
substitute(_, n_unit),
substitute(_, delta_trace),
simplify(_),
sort_product(_),
canonicalise(_);</div><div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\Lambda_{i j m n} \Lambda_{m n k l}-\Lambda_{i j k l}\)</div><div class='input_form'><div class="source donthyphenate">\Lambda_{i j m n} \Lambda_{m n k l}-\Lambda_{i j k l}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\left(\left(\delta_{i m}-n_{i} n_{m}\right) \left(\delta_{j n}-n_{j} n_{n}\right) - \frac{1}{2}\left(\delta_{i j}-n_{i} n_{j}\right) \left(\delta_{m n}-n_{m} n_{n}\right)\right) \left(\left(\delta_{m k}-n_{m} n_{k}\right) \left(\delta_{n l}-n_{n} n_{l}\right) - \frac{1}{2}\left(\delta_{m n}-n_{m} n_{n}\right) \left(\delta_{k l}-n_{k} n_{l}\right)\right)-\left(\delta_{i k}-n_{i} n_{k}\right) \left(\delta_{j l}-n_{j} n_{l}\right)+\frac{1}{2}\left(\delta_{i j}-n_{i} n_{j}\right) \left(\delta_{k l}-n_{k} n_{l}\right)\)</div><div class='input_form'><div class="source donthyphenate">((\delta_{i m}-n_{i} n_{m}) (\delta_{j n}-n_{j} n_{n}) -  1/2 (\delta_{i j}-n_{i} n_{j}) (\delta_{m n}-n_{m} n_{n})) ((\delta_{m k}-n_{m} n_{k}) (\delta_{n l}-n_{n} n_{l}) -  1/2 (\delta_{m n}-n_{m} n_{n}) (\delta_{k l}-n_{k} n_{l}))-(\delta_{i k}-n_{i} n_{k}) (\delta_{j l}-n_{j} n_{l}) +  1/2 (\delta_{i j}-n_{i} n_{j}) (\delta_{k l}-n_{k} n_{l})</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}0\)</div><div class='input_form'><div class="source donthyphenate">0</div></div>
</div>
</div>
<div class='python'><div class="source donthyphenate">def process(ex):
	substitute(ex, lambda_def);
	distribute(ex),
	eliminate_kronecker(ex),
	substitute(ex, n_unit),
	canonicalise(ex),
	sort_product(ex),
	return(ex)

lambda_transverse_1 := n_i \Lambda_{i j k l};
process(_);

lambda_transverse_2 := n_j \Lambda_{i j k l};
process(_);

lambda_transverse_3 := n_k \Lambda_{i j k l};
process(_);

lambda_transverse_4 := n_l \Lambda_{i j k l};
process(_);
</div><div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}n_{i} \Lambda_{i j k l}\)</div><div class='input_form'><div class="source donthyphenate">n_{i} \Lambda_{i j k l}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}n_{i} \left(\left(\delta_{i k}-n_{i} n_{k}\right) \left(\delta_{j l}-n_{j} n_{l}\right) - \frac{1}{2}\left(\delta_{i j}-n_{i} n_{j}\right) \left(\delta_{k l}-n_{k} n_{l}\right)\right)\)</div><div class='input_form'><div class="source donthyphenate">n_{i} ((\delta_{i k}-n_{i} n_{k}) (\delta_{j l}-n_{j} n_{l}) -  1/2 (\delta_{i j}-n_{i} n_{j}) (\delta_{k l}-n_{k} n_{l}))</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}0\)</div><div class='input_form'><div class="source donthyphenate">0</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}n_{j} \Lambda_{i j k l}\)</div><div class='input_form'><div class="source donthyphenate">n_{j} \Lambda_{i j k l}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}n_{j} \left(\left(\delta_{i k}-n_{i} n_{k}\right) \left(\delta_{j l}-n_{j} n_{l}\right) - \frac{1}{2}\left(\delta_{i j}-n_{i} n_{j}\right) \left(\delta_{k l}-n_{k} n_{l}\right)\right)\)</div><div class='input_form'><div class="source donthyphenate">n_{j} ((\delta_{i k}-n_{i} n_{k}) (\delta_{j l}-n_{j} n_{l}) -  1/2 (\delta_{i j}-n_{i} n_{j}) (\delta_{k l}-n_{k} n_{l}))</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}0\)</div><div class='input_form'><div class="source donthyphenate">0</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}n_{k} \Lambda_{i j k l}\)</div><div class='input_form'><div class="source donthyphenate">n_{k} \Lambda_{i j k l}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}n_{k} \left(\left(\delta_{i k}-n_{i} n_{k}\right) \left(\delta_{j l}-n_{j} n_{l}\right) - \frac{1}{2}\left(\delta_{i j}-n_{i} n_{j}\right) \left(\delta_{k l}-n_{k} n_{l}\right)\right)\)</div><div class='input_form'><div class="source donthyphenate">n_{k} ((\delta_{i k}-n_{i} n_{k}) (\delta_{j l}-n_{j} n_{l}) -  1/2 (\delta_{i j}-n_{i} n_{j}) (\delta_{k l}-n_{k} n_{l}))</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}0\)</div><div class='input_form'><div class="source donthyphenate">0</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}n_{l} \Lambda_{i j k l}\)</div><div class='input_form'><div class="source donthyphenate">n_{l} \Lambda_{i j k l}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}n_{l} \left(\left(\delta_{i k}-n_{i} n_{k}\right) \left(\delta_{j l}-n_{j} n_{l}\right) - \frac{1}{2}\left(\delta_{i j}-n_{i} n_{j}\right) \left(\delta_{k l}-n_{k} n_{l}\right)\right)\)</div><div class='input_form'><div class="source donthyphenate">n_{l} ((\delta_{i k}-n_{i} n_{k}) (\delta_{j l}-n_{j} n_{l}) -  1/2 (\delta_{i j}-n_{i} n_{j}) (\delta_{k l}-n_{k} n_{l}))</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}0\)</div><div class='input_form'><div class="source donthyphenate">0</div></div>
</div>
</div>
<div class='python'><div class="source donthyphenate">lambda_traceless_1 := \Lambda_{i i k l};
process(_),
substitute(_, delta_trace);

lambda_traceless_2 := \Lambda_{i j k k};
process(_),
substitute(_, delta_trace);</div><div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\Lambda_{i i k l}\)</div><div class='input_form'><div class="source donthyphenate">\Lambda_{i i k l}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\left(\delta_{i k}-n_{i} n_{k}\right) \left(\delta_{i l}-n_{i} n_{l}\right) - \frac{1}{2}\left(\delta_{i i}-n_{i} n_{i}\right) \left(\delta_{k l}-n_{k} n_{l}\right)\)</div><div class='input_form'><div class="source donthyphenate">(\delta_{i k}-n_{i} n_{k}) (\delta_{i l}-n_{i} n_{l}) -  1/2 (\delta_{i i}-n_{i} n_{i}) (\delta_{k l}-n_{k} n_{l})</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}0\)</div><div class='input_form'><div class="source donthyphenate">0</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\Lambda_{i j k k}\)</div><div class='input_form'><div class="source donthyphenate">\Lambda_{i j k k}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\left(\delta_{i k}-n_{i} n_{k}\right) \left(\delta_{j k}-n_{j} n_{k}\right) - \frac{1}{2}\left(\delta_{i j}-n_{i} n_{j}\right) \left(\delta_{k k}-n_{k} n_{k}\right)\)</div><div class='input_form'><div class="source donthyphenate">(\delta_{i k}-n_{i} n_{k}) (\delta_{j k}-n_{j} n_{k}) -  1/2 (\delta_{i j}-n_{i} n_{j}) (\delta_{k k}-n_{k} n_{k})</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}0\)</div><div class='input_form'><div class="source donthyphenate">0</div></div>
</div>
</div>
<div class='python'><div class="source donthyphenate">lambda_swap_symmmetry := \Lambda_{i j k l} - \Lambda_{k l i j};
substitute(_, lambda_def);
distribute(_),
canonicalise(_),
sort_product(_);</div><div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\Lambda_{i j k l}-\Lambda_{k l i j}\)</div><div class='input_form'><div class="source donthyphenate">\Lambda_{i j k l}-\Lambda_{k l i j}</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}\left(\delta_{i k}-n_{i} n_{k}\right) \left(\delta_{j l}-n_{j} n_{l}\right) - \frac{1}{2}\left(\delta_{i j}-n_{i} n_{j}\right) \left(\delta_{k l}-n_{k} n_{l}\right)-\left(\delta_{k i}-n_{k} n_{i}\right) \left(\delta_{l j}-n_{l} n_{j}\right)+\frac{1}{2}\left(\delta_{k l}-n_{k} n_{l}\right) \left(\delta_{i j}-n_{i} n_{j}\right)\)</div><div class='input_form'><div class="source donthyphenate">(\delta_{i k}-n_{i} n_{k}) (\delta_{j l}-n_{j} n_{l}) -  1/2 (\delta_{i j}-n_{i} n_{j}) (\delta_{k l}-n_{k} n_{l})-(\delta_{k i}-n_{k} n_{i}) (\delta_{l j}-n_{l} n_{j}) +  1/2 (\delta_{k l}-n_{k} n_{l}) (\delta_{i j}-n_{i} n_{j})</div></div>
</div>
<div class='latex_view hyphenate'><div class="source donthyphenate">\(\displaystyle{}0\)</div><div class='input_form'><div class="source donthyphenate">0</div></div>
</div>
</div>
<div class='python'></div>
</body>
</html>
